# Project Euler 227 Solution - The Chase

<https://projecteuler.net/problem=227>:

* [227.py](227.py)

This solution computes the expected number of turns until the game ends (for 100 players), as requested by Project Euler 227.

## Main techniques used

### 1) State reduction via symmetry
Instead of tracking the full configuration `(pos_die_A, pos_die_B)` on a circle of `N` players, we only track the **clockwise distance**

- `d = (pos_B - pos_A) mod N`, so `d ∈ {0, 1, …, N-1}`.

Because all players are equivalent up to rotation, the process depends only on this distance.
The game ends exactly when `d = 0` (both dice held by the same player after a turn).

### 2) Markov chain model
Each die moves:
- left with probability `1/6`
- stays with probability `4/6`
- right with probability `1/6`

So the **relative step** `Δ = move_B − move_A` takes values `−2, −1, 0, +1, +2` with probabilities:

- `P(±2) = 1/36`
- `P(±1) = 2/9`
- `P(0)  = 1/2`

and the distance evolves as `d' = (d + Δ) mod N`.

This makes `{d}` an **absorbing Markov chain** with absorbing state `0`.

### 3) Expected hitting times as a linear system
Let `E[d]` be the expected remaining number of turns to reach `0` starting from distance `d`.

- `E[0] = 0`
- For `d ≠ 0`:

`E[d] = 1 + Σ_Δ P(Δ) · E[(d + Δ) mod N]`

For `N = 100`, this becomes a **99×99** linear system over the unknowns `E[1]…E[99]`.
The answer required by the problem is `E[50]` (two opposite players).

### 4) Numerical linear algebra (Gaussian elimination)
The code solves the linear system using **Gaussian elimination with partial pivoting**, which is stable enough for this small system.

To keep rounding error well below the required “10 significant digits”, computations are done using Python’s `decimal.Decimal` with high precision.

### 5) Significant-digit rounding
Project Euler requests the answer rounded to **ten significant digits**. The solution rounds using a power-of-ten quantization and prints
in fixed-point form (no scientific notation).

## Output
Running `python3 main.py` prints the final answer:

- `3780.618622`
