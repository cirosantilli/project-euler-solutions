# Project Euler 909 Solution - L-expressions I

<https://projecteuler.net/problem=909>:

* [909.py](909.py)

This repository contains a `main.py` solution (no external libraries) for Project Euler 909.

The naive approach — repeatedly applying rewrite rules to the string — is infeasible because the final normal form contains an astronomically long chain of `A(A(A(...(0))))`, and reducing that chain requires one rewrite per increment.

## Key ideas

### 1) Recognize Church numerals

The rules

- `Z(u)(v) → v`
- `S(u)(v)(w) → v(u(v)(w))`

are exactly the lambda-calculus encodings of **Church numerals**:

- `Z` behaves like 0 (it ignores its first argument and returns the second).
- `S` is the successor constructor.

So the numeral `n` is represented by `Cₙ = S(S(...S(Z)))` and:

- `Cₙ(A)(0)` evaluates to the natural number `n`.

### 2) Identify a useful derived operator

Define:

- `D = S(S)`.

Using the rewrite rule for `S`, one can derive (and validate on small values) that for any Church numeral `n`:

- `D(n)` behaves like the numeral `n(n+1)`.

If we write `g(x) = x(x+1)`, then:

- `D(n)  ≡  g(n)` (as numerals).

### 3) Reduce the target expression to plain arithmetic

The target expression is:

`S(S)(S(S))(S(S))(S(Z))(A)(0)`

After algebraic simplification using the rewrite rule for `S` (and the fact that `S(Z)` is the numeral 1), it can be shown to be equivalent to:

- `F(F(1))`

where:

- `F(n) = g(g(n²(n+1)))`, and `g(x)=x(x+1)`.

So the problem becomes computing `F(F(1))` and returning its last 9 digits.

### 4) Work modulo 10⁹

We only need the last 9 digits, so we compute everything modulo:

- `10⁹ = 1_000_000_000`.

Because `F` is a polynomial expression built from multiplication and addition, evaluating it modulo `10⁹` is valid and fast.

## Code structure

- `main.py` contains:
  - a small normal-order reducer used **only** for the two sample assertions from the problem statement;
  - a fast arithmetic implementation of `F(n) mod 10⁹`;
  - computation and printing of the final last-nine-digits result (zero-padded).
