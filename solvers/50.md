# Project Euler 50 Solution - Consecutive Prime Sum

<https://projecteuler.net/problem=50>:

* [50.py](50.py)
* [50.lean](50.lean)

## Key idea
A sum of consecutive primes can be written using prefix sums:

- Let `primes = [p0, p1, ..., p(n-1)]`
- Let `prefix[k] = p0 + p1 + ... + p(k-1)` with `prefix[0] = 0`
- Then the sum of `length` consecutive primes starting at index `i` is:
  `prefix[i + length] - prefix[i]`

## Algorithm
1. **Sieve of Eratosthenes** up to `limit-1` to allow O(1) primality checks.
2. Build the list of primes and their **prefix sums**.
3. Compute the **maximum feasible length** `L` such that the sum of the first `L` primes is still `< limit`.
4. Try lengths from `L` down to `1`:
   - Slide a window over prime indices `i`
   - Compute the window sum via prefix sums
   - Stop sliding early when the sum reaches `limit` (for fixed length, sums grow with `i`)
   - If the sum is prime, this is the best answer (since we're iterating lengths downward)

## Complexity
- Sieve: `O(limit log log limit)`
- Search: at most about `L * number_of_primes` window checks, but `L` is only ~500 for `limit=1,000,000`,
  making it fast enough in PyPy.

The program prints the prime below one million that can be written as the sum of the most consecutive primes.
