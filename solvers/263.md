# Project Euler 263 Solution - An Engineers' Dream Come True

<https://projecteuler.net/problem=263>:

* [263.py](263.py)

This repository contains a Python solution for **Project Euler 263**.

We need the first four integers `n` such that:

- `n-9, n-3, n+3, n+9` are **four consecutive primes** with gaps `6, 6, 6` (a “triple sexy prime pair”), and
- `n-8, n-4, n, n+4, n+8` are all **practical numbers**.

The program prints the sum of those four `n`.

## Main techniques

### 1) Candidate generation from prime-gap patterns
A triple sexy-pair is exactly the situation where four **consecutive** primes have gaps

```
6, 6, 6
```

So we stream primes in order and keep a sliding window of the last four primes. When their differences match `6,6,6`, we immediately know the corresponding candidate is:

- `n = (n-3) + 3 = p1 + 3`

where `p1` is the second prime in that window.

This avoids scanning all integers and only triggers further work on rare prime constellations.

### 2) Segmented sieve to stream primes up to ~1e9
Storing a full sieve up to the required limit would be too large. Instead, the code uses an **odd-only segmented sieve**:

- precompute base primes up to `sqrt(high)`
- mark composites inside a fixed-size interval `[low, high)`
- emit primes from that interval, then move to the next segment

This keeps memory usage small while still being fast.

### 3) Practical numbers via the Stewart–Sierpiński characterization
Checking the definition of “practical” directly is expensive. The code uses a known theorem:

If

```
n = p1^a1 * p2^a2 * ... * pk^ak   (p1 < p2 < ...)
```

then `n` is practical iff:

- `p1 = 2`, and
- for each `i > 1`: `pi <= 1 + σ(p1^a1 * ... * p(i-1)^a(i-1))`

where `σ` is the sum-of-divisors function.

So the implementation:

1. factors `n` by trial division over small primes
2. walks the factors in increasing order while maintaining the prefix `σ`

This makes each practical check very fast.

### 4) Small optimizations
- A fast necessary filter `n % 4 == 0` is applied before doing any factorization work.
- Practical-number results are memoized in a dictionary, since nearby candidates may reuse values.
