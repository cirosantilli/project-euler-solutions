# Project Euler 493 Solution - Under the Rainbow

<https://projecteuler.net/problem=493>:

* [493.py](493.py)

## Main techniques used

### Linearity of expectation with indicator variables
For each color \(c\), define an indicator:
- \(I_c = 1\) if at least one ball of color \(c\) is drawn, else \(0\).

The number of distinct colors is:
\[
X = \sum_{c=1}^{7} I_c
\]
So:
\[
\mathbb{E}[X] = \sum_{c=1}^{7} \mathbb{E}[I_c] = \sum_{c=1}^{7} \Pr(I_c=1)
\]

### Compute \(\Pr(I_c=1)\) using combinations
A fixed color is absent iff all 20 balls are drawn from the other 60 balls:
\[
\Pr(\text{absent}) = \frac{\binom{60}{20}}{\binom{70}{20}}
\]
Thus:
\[
\mathbb{E}[X] = 7\left(1 - \frac{\binom{60}{20}}{\binom{70}{20}}\right)
\]

### Exact arithmetic + correct rounding
- Combinations are computed exactly as integers using an iterative product and `gcd` reduction (no factorials).
- The final ratio is evaluated with Python's `Decimal` at high precision and rounded to **9** digits after the decimal point.

## Files
- `main.py` prints the required value.
- `README.md` explains the approach.
