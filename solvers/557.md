# Project Euler 557 Solution - Cutting Triangles

<https://projecteuler.net/problem=557>:

* [557.py](557.py)

This solution avoids brute-force enumeration over `(a,b,c,d)` and avoids expensive
search over geometric ratio parameters.

## Key Algebraic Transformation

Valid quadruples satisfy:

\[
d(a^2-bc)=bc(2a+b+c)
\]

Let:

- \(t = a+b+c+d\) = total triangle area
- \(s = t+a\)

Then we derive:

- \(b+c = s - 2a - d\)
- \(bc = a^2 d / s\) must be integer
- \(b,c\) must be integer roots of:
  \[
  x^2-(b+c)x+bc=0
  \]
  so the discriminant must be a perfect square:
  \[
  \Delta = (b+c)^2 - 4bc
  \]

## Enumeration Strategy

We enumerate:

- \(s\) from `3` to `2N`
- \(a\) only in the feasible range ensuring \(t=s-a \le N\)
- \(d\) only in multiples of `s/gcd(s, a^2)` (this enforces `bc` integrality)

For each candidate we compute:

- `w = b+c`
- `prod = bc`
- `disc = w*w - 4*prod`

If `disc` is a perfect square we recover `(b,c)` directly.

## Performance Notes

This avoids a 4D search and replaces it with a highly pruned enumeration.
The inner loop only considers `d` values that can satisfy integrality.

Perfect-square checking is done using `math.isqrt()` (no external libraries).

## Correctness Tests

The implementation includes asserts from the problem statement:

- `S(20) == 259`
- total area `55` yields exactly the two given quadruples.
