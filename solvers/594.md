# Project Euler 594 Solution - Rhombus Tilings

<https://projecteuler.net/problem=594>:

* [594.py](594.py)

This repository solves **Project Euler 594**.

We need the number of tilings `t(O_{a,b})` of an equal-angled convex octagon whose edge lengths alternate `a, b, a, b, a, b, a, b`, using unit **squares** and unit **45° rhombi** (distinct rotations/reflections are counted separately). The target is `t(O_{4,2})`.

## Main techniques used

### 1) Square-grid / de Bruijn representation
Tilings by squares and 45° rhombi can be “dualized” into four families of non‑crossing directed lines (de Bruijn lines). Shrinking the tiles turns the tiling into a configuration on a rectangular patch of the square grid.

A key piece of information is the set of special vertices (often described as the locations of the “tilted squares”). Those vertex coordinates can be encoded by two integer arrays:

- `x_{k,l}`: a `b × d` monotone matrix, nondecreasing right/down, with values `0..a`
- `y_{k,l}`: a `b × d` matrix monotone in the opposite vertical direction, with values `0..c`

For `O_{a,b}` we have the symmetric case `(a,b,c,d) = (a,b,a,b)`.

### 2) Non‑intersecting lattice paths → determinants (Lindström–Gessel–Viennot)
Once the special vertices `(x_{k,l}, y_{k,l})` are fixed, the remaining degrees of freedom split into independent “strips” of directed non‑intersecting lattice paths on the square grid.

The **Lindström–Gessel–Viennot theorem** converts the count of each strip into a **determinant** whose entries are **binomial coefficients** (counting the number of directed paths between endpoints).

So for each admissible `(x,y)` pair we compute:

- a product of determinants `det(M^(u))`
- a product of determinants `det(P^(v))`

and then sum these products over all admissible `(x,y)`.

### 3) Exact integer arithmetic
- Binomial coefficients are computed with a cached multiplicative formula.
- Determinants are computed exactly using the **Bareiss algorithm** (fraction‑free Gaussian elimination), keeping all intermediates integral.

## Running

```bash
python3 main.py
```

The script includes `assert`s for the sample values from the problem statement and prints the final answer for `t(O_{4,2})`.
