# Project Euler 104 Solution - Pandigital Fibonacci Ends

<https://projecteuler.net/problem=104>:

* [104.py](104.py)

We search for the first Fibonacci index `k` such that:

- the **first 9 digits** of `F_k` are a 1–9 pandigital set, and
- the **last 9 digits** of `F_k` are also 1–9 pandigital.

## Key ideas

1. **Last 9 digits via modular iteration**
   - We iterate Fibonacci numbers keeping only `F_n mod 10^9`.
   - This is fast and avoids huge integers during the scan.

2. **First 9 digits via logarithms**
   - Using Binet/log approximation:
     \[
     \log_{10}(F_n) \approx n\log_{10}(\varphi) - \log_{10}(\sqrt{5})
     \]
   - If `x = log10(F_n)`, the fractional part `frac(x)` determines the leading digits:
     \[
     \text{first9} = \left\lfloor 10^{\text{frac}(x) + 8} \right\rfloor
     \]
   - To make this robust, the program uses Python `Decimal` with high precision to compute `ln`/`exp`.

3. **Pandigital test**
   - A bitmask checks that digits are exactly `{1..9}` with no zeros and no repeats.

4. **Exact verification**
   - When both ends appear pandigital, we compute `F_n` exactly using fast doubling (O(log n) big-integer multiplications) and verify first/last 9 digits to ensure correctness.

## Included assertions

The program asserts the two facts given in the statement:
- `F_541` has pandigital last 9 digits.
- `F_2749` has pandigital first 9 digits.

Finally, it prints the computed `k`.
