# Project Euler 532 Solution - Nanobots on Geodesics

<https://projecteuler.net/problem=532>:

* [532.py](532.py)

## Key ideas

### 1) Exploit symmetry to reduce the system
The bots start equally spaced on a small circle (radius `r = 0.999`) around the sphere’s axis, and each bot chases the next one.

Rotational symmetry implies that at every moment:

- all bots share the same **colatitude** `θ(t)`,
- their longitudes remain equally spaced by `Δ = 2π/n`.

So the full `n`-body pursuit problem collapses to a **single** representative bot chasing its neighbor with fixed angular separation `Δ`.

### 2) Convert the pursuit into a 1D integral
Computing the unit tangent direction of the great-circle (geodesic) from a bot to its target gives an ODE for `θ(t)`.

Because every bot moves at the same constant speed, the **path length** drawn by each bot equals the **time** until all bots meet (at the north pole).

This yields:

\[
L(n)=\frac{I(u)}{\sin(\pi/n)}, \quad
u=\sin^2(\pi/n),
\]

\[
I(u)=\int_0^r \frac{\sqrt{1-u t^2}}{1-t^2}\,dt,\quad r=0.999.
\]

### 3) Remove the near-singularity with a substitution
The integral has a steep factor `1/(1-t^2)` as `t → 1`. Although `r < 1`, it’s still numerically inconvenient.

Use:

\[
t=\tanh y \quad\Rightarrow\quad \frac{dt}{1-t^2}=dy.
\]

Then:

\[
I(u)=\int_0^{\operatorname{atanh}(r)} \sqrt{1-u\tanh^2 y}\,dy,
\]

which is a smooth integrand on a finite interval.

### 4) Numerical integration + monotone search
- `I(u)` is computed using **adaptive Simpson integration** (implemented from scratch, no external libraries).
- `L(n)` increases with `n`, so the smallest `n` with `L(n) > 1000` is found via **binary search**.

The final answer is `n * L(n)`, rounded to two decimals.
