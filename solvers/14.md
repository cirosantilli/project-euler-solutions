# Project Euler 14 Solution - Longest Collatz Sequence

<https://projecteuler.net/problem=14>:

* [14.py](14.py)
* [14.lean](14.lean)

# Longest Collatz Sequence (under one million)

We need the starting number `n < 1,000,000` that produces the longest Collatz chain (counting terms until reaching 1).

## Key idea: memoization / dynamic programming
Directly simulating the full chain for every start repeats a lot of work. Instead, we cache known chain lengths:

- `L(1) = 1`
- If during simulation we reach a number `m` whose chain length `L(m)` is already known, then for the current start we can stop and reuse it.
- We then back-fill the computed path with lengths.

## Implementation details
- Use a fast list cache for values `<= 1,000,000` (array indexing is faster than dict).
- Use a dictionary for values above the limit (chains can exceed one million).
- For each start `n`, build a `path` until a cached value is found, then propagate lengths back through the reversed path.

This runs quickly in PyPy3 and avoids brute force recomputation.
