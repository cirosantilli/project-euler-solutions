# Project Euler 742 Solution - Minimum Area of a Convex Grid Polygon

<https://projecteuler.net/problem=742>:

* [742.py](742.py)

## Problem
We seek the minimum area **A(N)** of a *symmetrical convex grid polygon* with **N** vertices:

- all vertices have integer coordinates,
- strictly convex (every internal angle < 180°),
- symmetric about both a horizontal and a vertical axis.

The task is to compute **A(1000)**.

---

## Key Techniques Used

### 1) Symmetry Reduction
With horizontal and vertical symmetry, the polygon can be described by a much smaller structure.

Instead of describing all vertices, we describe a sequence of primitive edge directions in the first quadrant.  
Reflections across axes generate the remaining edges automatically.

This reduces the search space from “all lattice polygons” to “all valid sets of primitive vectors”.

---

### 2) Primitive Direction Vectors
For minimality, we can restrict to *primitive* edge vectors:

> A vector `(dx,dy)` is primitive if `gcd(|dx|,|dy|)=1`.

Non-primitive edges can be shortened without violating convexity or lattice constraints, reducing area.

Thus we represent candidate edges by primitive pairs `(a,b)` with `a>0`, `b>0`, `gcd(a,b)=1`.

---

### 3) Elliptic (Weighted) Vector Selection
Empirically (and consistent with known lattice-geometry results), optimal solutions arise from taking all primitive
vectors inside an **axis-aligned ellipse**.

We model this by minimizing a weighted norm:

w(a,b) = a² + t·b²

yaml
Copy code

For a fixed `t`, selecting the `k` smallest primitive vectors by this weight corresponds to an ellipse level set.

We scan `t` over a dense grid in `(0,1]` (symmetry makes `t>1` redundant).

---

### 4) Fast Area Computation via Prefix Determinants
The polygon is built from its edge vectors, but computing area via vertices would be slower.

Instead we use a determinant identity:

For a closed polygon with edge vectors `e0,e1,...`, area equals:

Area = 1/2 Σ det(P_i, P_{i+1})

yaml
Copy code

where `P_i` are prefix sums of edges.

For centrally symmetric polygons, the full area is exactly equal to the determinant sum over the half-cycle.

That lets us compute area in **O(m)** time where `m ≈ N/2`, using running prefix sums.

---

## Complexity
Let:

- `k = (N-4)/4` interior primitive vectors,
- `M` = number of candidate primitive vectors generated under some coordinate limit.

For each `t`:
- selecting k smallest by heap: `O(M log k)`
- sorting selected vectors by slope: `O(k log k)`
- area via prefix determinants: `O(k)`

With `N=1000`, `k=249`, this remains comfortably fast in plain Python.

---

## Output
The program prints `A(1000)` and asserts the sample values given in the statement.

No known final numeric answer is hard-coded anywhere.
