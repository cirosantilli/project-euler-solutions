# Project Euler 91 Solution - Right Triangles with Integer Coordinates

<https://projecteuler.net/problem=91>:

* [91.py](91.py)

We count right triangles `OPQ` where `O = (0,0)` and `P, Q` are distinct lattice points in the square
`0 ≤ x,y ≤ N`.

### 1) Right angle at the origin
With all coordinates nonnegative, `OP ⟂ OQ` implies `x1*x2 + y1*y2 = 0`, which can only happen if
one point lies on the positive x-axis and the other on the positive y-axis.
So there are `N * N` such triangles.

### 2) Right angle at a point `P`
Fix `P = (x,y)` (not the origin) and count points `Q` such that `OP ⟂ PQ`.

- If `P` lies on an axis (but not the origin), the perpendicular line through `P` is a grid line.
  There are exactly `N` valid choices for `Q` along that line inside the square.

- If `x>0` and `y>0`, the direction perpendicular to `OP` is based on the reduced vector
  `(x,y)/g` where `g = gcd(x,y)`. A primitive perpendicular step is:
  - `(-y/g, x/g)` and the opposite `(y/g, -x/g)`.
  Moving from `P` by integer multiples of these steps hits exactly the lattice points that keep
  `OP ⟂ PQ`.
  We count how many steps fit in-bounds in each direction using simple integer bounds, and add both.

### Complexity
We iterate over all `P` in the `(N+1)²` grid and do `O(1)` work per point, so the runtime is `O(N²)`.
For `N=50` this is instantaneous.
