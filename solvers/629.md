# Project Euler 629 Solution - Scatterstone Nim

<https://projecteuler.net/problem=629>:

* [629.py](629.py)

This problem asks for the number of *winning starting positions* in a Nim variant
where a move splits a pile into between `2` and `k` smaller piles.

A position is an **unordered multiset of pile sizes summing to `n`**, i.e. an
integer partition of `n`.

---

## 1. Sprague–Grundy Theory (Impartial Games)

The game is impartial, so every pile size `s` has a **Grundy number** `G_k(s)`,
defined by:

- `G_k(1) = 0`
- `G_k(s) = mex( XOR of Grundy numbers of any valid split of s )`

A full position is losing iff:

> XOR of all pile Grundy numbers = 0

So:

- total positions = `P(n)` (partition count)
- losing positions = `L(n,k)`
- winning positions = `f(n,k) = P(n) − L(n,k)`

---

## 2. Huge Simplification for `k ≥ 4`

For `k ≥ 4`, it turns out that:

> **`G_k(s) = s − 1` for all `s`**

That means all `f(n,k)` for `k ≥ 4` are identical.

So:
