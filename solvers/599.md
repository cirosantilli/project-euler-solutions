# Project Euler 599 Solution - Distinct Colourings of a Rubik's Cube

<https://projecteuler.net/problem=599>:

* [599.py](599.py)

This solution counts how many sticker colourings are *essentially distinct* under
mechanically possible moves of a **2×2×2** Rubik’s cube, given **n** available colours.

---

## Core Ideas

### 1) Burnside’s Lemma
To count orbits (distinct colourings under moves), we use:

\[
\text{orbits}=\frac{1}{|G|}\sum_{g\in G} n^{c(g)}
\]

Where:
- \(G\) is the cube move group acting on **24 facelets**
- \(c(g)\) is the number of cycles in the facelet permutation induced by move \(g\)

---

### 2) Corner-group structure (wreath-product viewpoint)

A 2×2×2 cube has only **8 corner cubies**, each with **3 stickers**.

A move is defined by:
- a permutation \(\sigma \in S_8\) of the corners
- a twist value \(t_i \in \{0,1,2\}\) for each corner,
  with the constraint \(\sum t_i \equiv 0 \pmod{3}\)

Hence:

\[
|G| = 8! \cdot 3^7
\]

---

### 3) Cycle counting becomes simple

Consider a cycle of corners of length \(k\).  
Following a sticker around that cycle, the net twist sum along the cycle matters:

- if the cycle’s twist-sum \(\equiv 0 \pmod{3}\): it produces **3** sticker cycles
- otherwise: it produces **1** sticker cycle of length \(3k\)

So for a corner permutation with:
- \(m\) corner-cycles total
- \(z\) of those cycles having twist-sum 0

the sticker-cycle count is:

\[
c(g)=m+2z
\]

---

### 4) Counting permutations with \(m\) cycles
The number of permutations in \(S_8\) with exactly \(m\) cycles is the
**unsigned Stirling number of the first kind** \(c(8,m)\).

We compute these via the standard recurrence:

\[
c(n,k)=c(n-1,k-1)+(n-1)c(n-1,k)
\]

---

### 5) Counting twist-sum patterns
For fixed \(m\), we need to count how many \(m\)-tuples in \(\{0,1,2\}^m\) have:
- total sum \(\equiv 0 \pmod{3}\)
- exactly \(z\) zeros

This reduces to counting length-\(r=m-z\) sequences over \(\{1,2\}\)
with sum \(\equiv 0 \pmod{3}\), computed by a small DP mod 3.

---

## Result
The program asserts the given example:

- **n = 2 ⇒ 183**

Then prints the required Project Euler answer:

- **n = 10 ⇒ 12395526079546335**

---

## Complexity
Very small:

- Only sums over \(m=1..8\) and \(z=0..m\)
- Integer arithmetic only
- Runs instantly
