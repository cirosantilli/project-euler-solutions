# Project Euler 92 Solution - Square Digit Chains

<https://projecteuler.net/problem=92>:

* [92.py](92.py)
* [92.lean](92.lean)

We repeatedly replace a number by the sum of squares of its digits. Every starting number eventually enters the fixed loop at `1` or the loop at `89`. We must count how many starting numbers `< 10,000,000` end at `89`.

### Key insights

- For any number with at most 7 digits, the sum of squares of digits is at most `7 * 9^2 = 567`.
- Therefore, every chain quickly falls into the small state space `1..567`.
- We can precompute, for each value `s` in `1..567`, whether its chain ends at `1` or `89` (memoized walking of the chain).
- To count efficiently over all `1..9,999,999`, compute the digit-square-sum quickly using block precomputation:
  - Precompute `sumSq[n]` for all `n` in `0..9999`.
  - For any `n < 10^7`, split as `n = high * 10000 + low` with `high in 0..999`, `low in 0..9999`.
  - Then `sumSqDigits(n) = sumSq[high] + sumSq[low]`.

### Complexity

- Precomputation is tiny (`O(10000)`).
- Counting checks exactly `9,999,999` numbers with only table lookups and integer additions.
- Runs comfortably in a few seconds on PyPy3.
