# Project Euler 27 Solution - Quadratic Primes

<https://projecteuler.net/problem=27>:

* [27.py](27.py)
* [27.lean](27.lean)

We search coefficients `a, b` in:
- `|a| < 1000`  →  `a ∈ [-999, 999]`
- `|b| ≤ 1000`

for the quadratic `n² + a n + b` that produces the longest run of primes for consecutive `n = 0, 1, 2, ...`.

### Key pruning/insights
1. **At n = 0** the expression equals `b`.  
   Therefore `b` must itself be a (positive) prime. This reduces `b` to the 168 primes ≤ 1000.

2. **Parity pruning** (for faster iteration):
   - If `b` is odd (all primes except 2), then for `n = 1` the value is `1 + a + b`.
     Since `1 + b` is even, `a` must be **odd** to make `1 + a + b` odd (and possibly prime).
   - If `b = 2`, then `1 + b = 3` is odd, so `a` must be **even**.

3. **Fast primality testing**:
   - Use trial division by a precomputed list of primes (via sieve), plus memoization (`cache`) of primality results.
   - The quadratic values in this problem stay small (≈ a few million), so this is efficient.

### Algorithm
For each candidate prime `b` and each allowed `a` (with parity pruning):
- Quickly check whether `n=1` produces a prime.
- If it passes, count consecutive primes starting from `n=0` until the expression becomes composite.
- Track the maximum run length and corresponding `(a, b)`, then output `a*b`.
