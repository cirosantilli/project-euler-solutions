# Project Euler 44 Solution - Pentagon Numbers

<https://projecteuler.net/problem=44>:

* [44.py](44.py)
* [44.lean](44.lean)

We need two pentagonal numbers \(P_j, P_k\) such that both their sum and difference are pentagonal, and the difference
\(D = |P_k - P_j|\) is minimized.

### Key ideas

- Pentagonal numbers are \(P_n = n(3n-1)/2\).
- A number \(x\) is pentagonal iff the inverse relation yields an integer:
  \[
  n = \frac{1 + \sqrt{24x+1}}{6}
  \]
  So we test:
  - \(24x+1\) is a perfect square, and
  - \(1+\sqrt{24x+1}\) is divisible by 6.

### Search strategy

- Precompute pentagonal numbers up to a safe limit (10,000 is plenty; the solution occurs much earlier).
- For each pair \((j,k)\) with \(k>j\):
  - Let `diff = P_k - P_j`. When iterating `j` downward for a fixed `k`, `diff` grows; once `diff` exceeds the best
    known answer, we stop checking smaller `j` (pruning).
  - Check if both `diff` and `P_k + P_j` are pentagonal using the fast inverse test above.
  - Track the smallest valid `diff`.

This runs quickly (a few million checks) and returns the minimized difference.
