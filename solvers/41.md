# Project Euler 41 Solution - Pandigital Prime

<https://projecteuler.net/problem=41>:

* [41.py](41.py)
* [41.lean](41.lean)

## Key insight
An `n`-digit pandigital number uses digits `1..n` exactly once, so the sum of its digits is fixed:
\[
1 + 2 + \dots + n = \frac{n(n+1)}{2}
\]
If this sum is divisible by `3`, then **every** such pandigital number is divisible by `3` and therefore not prime (except `3`, which is not pandigital here).

This eliminates `n = 9` and `n = 8` immediately:
- `1..9` sum is `45` (divisible by 3)
- `1..8` sum is `36` (divisible by 3)

The largest possible pandigital prime must therefore have `n = 7` or `n = 4` (since `1..7` sum is 28, `1..4` sum is 10).

## Algorithm
1. Loop `n` from 9 down to 1.
2. Skip `n` if `n(n+1)/2` is divisible by 3.
3. Generate all permutations of digits `1..n`.
4. Apply quick last-digit filters (cannot end in an even digit or 5).
5. Test primality by trial division up to `sqrt(n)` using a `6k Â± 1` loop.
6. Track the maximum prime found and return it.

For `n = 7`, there are only `7! = 5040` permutations, so this runs quickly.
